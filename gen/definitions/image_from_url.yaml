---
name: Image From Url
rest_endpoint: /dna/intent/api/v1/image/importation/source/url#
get_rest_endpoint: /dna/intent/api/v1/image/importation
ds_description: Remove me.
res_description:
  'This resource can fetch a software image from a URL and place it on the Catalyst Center.
  It can be then further used by `catalystcenter_image_distribution`, etc.
  <p/>
  This provider currently cannot delete images once created, so beware of creating many unnecessary images.'
# get_from_all: true # when true the rest_endpoint doesn't have to end in hash
id_from_query_path: response
id_from_query_path_attribute: imageUuid
id_query_param: imageUuid
# no_put: true
no_delete: true
max_async_wait_time: 600
doc_category: Software Image Management (SWIM)
attributes:
  - model_name: applicationType
    type: String
    # enum_values: [ONE, TWO]
    # description:
    response_data_path: response.0.applicationType
    exclude_example: true
  - model_name: imageFamily
    tf_name: family
    type: String
    # description:
    data_path: 0
    response_data_path: response.0.family
    exclude_example: true
  - model_name: sourceURL
    tf_name: source_url
    type: String
    description: URL from which Catalyst Center should download the software image. Supported file extensions are bin, img, tar, smu, pie, aes, iso, ova, tar_gz, qcow2.
    mandatory: true
    data_path: 0
    write_only: true
    example: https://example.com/software.bin # TODO: http://172.21.236.183/swim/
  - model_name: name
    type: String
    description: 'File name that uniquely identifies the software image. It should not contain any path. Usually this can be specified as `basename(source_url)`'
    mandatory: true
    id: true
    query_param: true # TODO verify
    response_data_path: response.0.name
    data_path: 0
    example: software.bin
  - model_name: vendor
    type: String
    # description:
    data_path: 0
    response_data_path: response.0.vendor
    exclude_example: true
  - model_name: thirdParty
    type: Bool
    default_value: false
    # description: Whether the software is from a third party.
    data_path: 0
    write_only: true
    exclude_example: true
